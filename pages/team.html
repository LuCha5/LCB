<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Page</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="icon" href="../assets/icons/Logo.ico" type="image/x-icon">
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>
</head>
<body>
    <header id="navbar"></header>
    <main>
        <h1 id="team-title">Team</h1>
        <p id="team-content">Information about the team goes here.</p>
        <section id="team-grid">
            <!-- Player cards will be dynamically inserted here -->
        </section>
    </main>
    <footer id="footer"></footer>
    <script>
        const apiUrl = '../server/players.php';

        const fetchPlayers = async () => {
            const response = await fetch(apiUrl);
            const players = await response.json();
            const teamGrid = document.getElementById('team-grid');
            teamGrid.innerHTML = '';
            players.forEach(player => {
                const playerCard = document.createElement('div');
                playerCard.classList.add('player-card');
                playerCard.innerHTML = `
                    <img src="../assets/images/player-placeholder.png" alt="${player.first_name} ${player.last_name}">
                    <div class="player-info">
                        <h2>${player.first_name} ${player.last_name}</h2>
                        <p>Position: ${player.position}</p>
                        <p>Number: ${player.number}</p>
                        <p>Role: ${player.role}</p>
                    </div>
                `;
                teamGrid.appendChild(playerCard);
            });
        };

        document.addEventListener('DOMContentLoaded', fetchPlayers);

        fetch('../pages/navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });

        fetch('../pages/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
</body>
</html>